<ion-view>
	<ion-nav-buttons side="right">
		<div>
			<p> HI {{vm.userName }}</p>
		</div>
	</ion-nav-buttons>
	<div class="bar bar-subheader floatingHeader" ng-if="!(vm.role == 'Student')">

		<span class="ion-plus-circled floatingbtn font_size_30px orangeText" ng-click="vm.showAddPerticipantForm()">
		</span>
	</div>
	<ion-content class="has-header resmrg20px" overflow-scroll = "true">	
<div   class=" orangeText text_align_center headerTextMrg " > <span class="font_size_30px">Activity Detail</span>
<span class="float_right orangeText" ng-click="vm.backToActivity()"><button class="themBackgroundColor bordernone text_white padding5px font_size_15px">Back to Activity</button></span>
</div>
		<div class="text_align_center font_size_20px mrg_btm10px orangeText">
			{{vm.activityDetail.activity_type_id}}:&nbsp{{vm.activityDetail.activity_name}}
		</div>

		<div class="btmborder">
			<div class ="row">
				<div class="col3">
					<table class="with100p">
						<tr>
							<td class="keytd with50p">Recurrence</td>
							<td class="valuetabletd with100p">
								<span>{{vm.activityDetail.activity_recurrence}}</span>
							</td>
						</tr>
						<tr>
							<td class="keytd with50p">Time</td>
							<td class="valuetabletd with100p">
								<span ng-if="(vm.activityDetail.activity_start_date)">{{vm.activityDetail.activity_start_date}}</span>
								<span ng-if="(vm.activityDetail.activity_end_date)">
								to {{vm.activityDetail.activity_end_date}}</span>
							</td>
						</tr>
						<tr>
							<td class="keytd with50p">Coordinator Name</td>
							<td class="valuetabletd with100p">
								<span>{{vm.activityDetail.coordinator_Name}}</span>
							</td>
						</tr>		
					</table>
				</div>
			
				<div class="col3">
					<table class="with100p">
						<tr ng-if="(vm.activityDetail.activity_start_date)">
							<td class="keytd with50p">Start Date</td>
							<td class="valuetabletd with100p">
								<span >{{vm.activityDetail.activity_start_date | date }}</span>
							</td>
						</tr>
						<tr ng-if="(vm.activityDetail.activity_phone)">
							<td class="keytd with50p">Phone</td>
							<td class="valuetabletd with100p">
								<span >{{vm.activityDetail.activity_phone}}</span>
							</td>
						</tr>
						<tr ng-if="!(vm.activityDetail.activity_phone)">
							<td class="keytd with50p">Phone</td>
							<td class="valuetabletd with100p">
								<span >{{vm.activityDetail.coordinator_Phone}}</span>
							</td>
						</tr>
						<tr>
							<td class="keytd with50p">Address</td>
							<td class="valuetabletd with100p">
								<span>
								<span ng-if='vm.activityDetail.activity_address.Line1'>{{vm.activityDetail.activity_address.Line1}},</span>

								<span ng-if='vm.activityDetail.activity_address.Line2'>{{vm.activityDetail.activity_address.Line2}},</span>
								<span ng-if='vm.activityDetail.activity_address.City'>{{vm.activityDetail.activity_address.City}},</span>

								<span ng-if="vm.activityDetail.activity_address.District">{{vm.activityDetail.activity_address.District}},</span>

								<span ng-if="vm.activityDetail.activity_address.State">{{vm.activityDetail.activity_address.State}},</span>

								<span ng-if="vm.activityDetail.activity_address.Country">{{vm.activityDetail.activity_address.Country}},</span> 

								<span ng-if="vm.activityDetail.activity_address.Postal_code">{{vm.activityDetail.activity_address.Postal_code}}.</span>
							</td>
						</tr>							
					</table>
				</div>
				<div class="col3">
					<table class="with100p">
						<tr ng-if="(vm.activityDetail.activity_end_time)">
							<td class="keytd with50p">End Date</td>
							<td class="valuetabletd with100p">
								<span >{{vm.activityDetail.activity_end_time | date }}</span>
							</td>
						</tr>
						<tr ng-if="(vm.activityDetail.activity_email)">
							<td class="keytd with50p">Email</td>
							<td class="valuetabletd with100p">
								<span >{{vm.activityDetail.activity_email}}</span>
							</td>
						</tr>
						<tr ng-if="!(vm.activityDetail.activity_email)">
							<td class="keytd with50p">Email</td>
							<td class="valuetabletd with100p">
								<span >{{vm.activityDetail.coordinator_Email}}</span>
							</td>
						</tr>
									
					</table>
				</div>
			</div>					
		</div>
		<div>
			
			<span><div class="text_align_center font_size_20px mrg_btm10px orangeText">Participants </div>
			</span>
			
			<div  ng-repeat="participant in vm.participentDetailList" class="btmborder">
				<div class="row">
					<div class="col3">
						<table class="with100p">
							<tr>
								<td class="keytd with50p">Name</td>
								<td class="valuetabletd with100p">
									<span>{{participant.participantInfo.Name}}</span>
								</td>
							</tr>
							<tr>
								<td class="keytd with50p">Role</td>
								<td class="valuetabletd with100p">
									<span>{{participant.participantStatus.EventRole}}</span>
								</td>
							</tr>
						</table>
					</div>
					<div class="col3">
						<table class="with100p">
							<tr>
								<td class="keytd with50p">Current Status</td>
								<td class="valuetabletd with100p">
									<span>{{participant.participantStatus.Status}}</span>
								</td>
							</tr>
							<tr>
								<td class="keytd with50p">Registration Date</td>
								<td class="valuetabletd with100p">
									<span>{{participant.participantStatus.Last_active_date | date}}</span>
								</td>
							</tr>
						</table>
					</div>
					<div class="col3 resmrg10px" ng-if="!(vm.role == 'Student')">
						<table class="with100p">
							<tr >
								<span ng-click="vm.showFormToUpdatePerticipantInActivity(participant)" class="ion-edit font_size_20px mrgrgt20 orangeText resfontsize"></span>
							</tr>
							<tr>
								<span ng-click="vm.deleteUserFromActivity(participant)" class="ion-trash-a font_size_20px mrgrgt20 orangeText resfontsize"></span>
							</tr>
						</table>
					</div>
				</div>
			</div>
		</div>
			
			<script id="editUserInActivity.html" type="text/ng-template">
			<ion-modal-view>										
				<ion-header-bar class="bar bar-header button-clear">
                      <h1 class="title orangeText">Edit Detail</h1>
                      <button class="button  button-light" ng-click="vm.closeModel()">
                           <span class="ion-android-cancel orangeText font_size_20px"></span>
                      </button>
 				</ion-header-bar>
				<ion-content>
					<div class="row mrg_top5px">
						<div class="col-10 text_align_center line_height3">Name</div>
						<div class="col border1px">	
							<input type="text" ng-model="vm.userActivityDetailToEdit.participantInfo.Name" class="with100p">
						</div>
					</div>
					
					<div class="row mrg_top5px">
						<div class="col-10 text_align_center line_height3">Role</div>
						<div class="col border1px">	
							<!-- <input type="text" ng-model="vm.userActivityDetailToEdit.perticipantStaus.Role" class="with100p"> -->
							<select  ng-model="vm.userActivityDetailToEdit.participantStatus.EventRole" ng-options="v for v in vm.userRole" class="bordernone with100p">
								<option value="" disabled selected="selected" style="display: none;">{{vm.userActivityDetailToEdit.participantStatus.EventRole}}</option>
							</select>
						</div>
						<div class="col-10 text_align_center line_height3">Status</div>
						<div class="col border1px">	
							<!-- <input type="text" ng-model="vm.userActivityDetailToEdit.perticipantStaus.Status" class="with100p"> -->
							<select  ng-model="vm.userActivityDetailToEdit.participantStatus.Status" ng-options="v for v in vm.activityEnrollTypes" class="bordernone with100p"></select>
						</div>
					</div>

					<div class="text_align_center">
						<button class="button button-block themBackgroundColor" 
						ng-click="vm.updateUserDetailFromActivity(vm.userActivityDetailToEdit)" type="submit">Update </button>
					</div>
					</ion-content>
					</ion-modal-view>

				</ion-content>
			</ion-modal-view>
		</script>



		<script id="addPerticipantToActivity.html" type="text/ng-template">
			<ion-modal-view>
				<ion-header-bar>
					<h1 class="title orangeText">Add New Participant</h1>
					<button class="button  button-light" ng-click="vm.closeModelAndRefeshParticipant()">
                       <span class="ion-android-cancel orangeText font_size_20px"></span>
                  </button>
				</ion-header-bar>
				<ion-content overflow-scroll = "true">
					<div class="spinnerDiv" ng-show="vm.useraddSpinner"><span><ion-spinner icon="circles" class="spinner-energized"></ion-spinner></span></div>
					
					 <form name="form" class="mrg25px" novalidate>
	      				<div class="row mrg_top5px">
							<!-- <div class="col-10 text_align_center line_height3">Name</div> -->
							<div class="col border1px">	
								<input type="text" ng-model="vm.participant.Name" placeholder="Enter name of participant" class="with100p">
							</div>
							
     
						</div>
						<div class="row mrg_top5px">
							<!-- <div class="col-10 text_align_center line_height3">Email</div> -->
							<div class="col border1px">	
								 <input type="email" ng-model="vm.participant.Email" class="with100p" placeholder="Enter email id of participant">
							</div>
						</div>

						<div class="row mrg_top5px">
							<!-- <div class="col-10 text_align_center line_height3">Email</div> -->
							<div class="col border1px">	
								 <input type="number" ng-model="vm.participant.Phone" placeholder="Enter phone number of participant" class="with100p">
							</div>
						</div>
			
	   		
						<div class="row mrg_top5px">
							<!-- <div class="col-10 text_align_center line_height3">Role</div> -->
							<div class="col border1px">	
								<select  ng-model="vm.participant.Role" ng-options="v for v in vm.userRole" class="bordernone with100p"></select>
							</div>
						</div>

						<!-- <div class="row mrg_top5px">
							<div class="col border1px">	
								<select  ng-model="vm.participant.Status" ng-options="v for v in vm.activityEnrollTypes" 
								class="bordernone with100p"></select>
							</div>
						</div -->
						<div class="row mrg_top5px">
							<div class="col border1px">
								<select  ng-model="vm.participant.Status" ng-options="v for v in vm.activityEnrollTypes" class="bordernone with100p"></select>
							</div>
						</div>

						<div class="row mrg_top5px valuetabletd">
							<div class="col text_align_center">
									<button class="button button-block themBackgroundColor text_align_center text_white" ng-click="vm.addParticipentToActivity(vm.participant)" type="submit">Add </button>
							</div>
						</div>
						<div ng-show="vm.participantAdded" class="ion-checkmark-circled text_align_center font_size_15px" style="color:green">Participant added</div>
					</form>
				</ion-content>
			</ion-modal-view>
  		</script>
    
	</ion-content>
</ion-view>